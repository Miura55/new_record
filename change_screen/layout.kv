#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import MeshLinePlot kivy.garden.graph.MeshLinePlot
#:import Graph kivy.garden.graph.Graph

ScreenManagement:
	transition: FadeTransition()
	StartScreen:
	MainScreen:
	PlotGraph:

<StartScreen>:
    nametext: text_box
    agetext: age_text
	name: "start"

    Button:
        font_size: 25
        center_x: (root.width/2)
		on_release: root.get_Info()
        size_hint: 0.15, 0.1
        top: root.top-270
        text: 'Start'

    #Labeldatetime
    Label:
        font_size: 25
        center_x: (root.width/4)
        size_hint: 0.15, 0.1
        top: root.top-90
        text:'name'
    Label:
        font_size: 25
        center_x: (root.width/4)
        size_hint: 0.15, 0.1
        top: root.top-180
        text:'experiment number'

    #TextInput
    TextInput:
        id: text_box
        size_hint: 0.3, 0.08
        center_x: (root.width/2)
        font_size: 25
        top: root.top-90
        focus: True
        on_text_validate: root.buttonClicked()
    TextInput:
        id: age_text
        size_hint: 0.3, 0.08
        center_x: (root.width/2)
        font_size: 25
        top: root.top-180
        focus: True
        on_text_validate: root.buttonClicked()


<MainScreen>:
	name: "other"
	FloatLayout:
	    Camera:
	        id: camera
	        resolution: (320, 240)
	        play: False

		Button:
			color: 0,1,0,1
			font_size: 25
			size_hint: 0.3,0.2
			text: "Graph Screen"
			on_release: app.root.current = "graph"
			pos_hint: {"right":1, "top":1}

		BoxLayout:
			size_hint: [1, .2]
		    Button:
		        text: 'Play'
				font_size: 25
		        on_press: camera.play = not camera.play
		        size_hint_y: None
		        height: '48dp'
			Button:
				text: 'Stop'
				font_size: 25
				size_hint_y: None
				height: '48dp'


<PlotGraph>:
	name: "graph"
	FloatLayout:
		orientation: "vertical"
		Button:
			color: 0,1,0,1
			font_size: 25
			size_hint: 0.3,0.2
			text: "Camera Screen"
			on_release: app.root.current = "other"
			pos_hint: {"right":1, "top":1}

		BoxLayout:
			top: root.top-370
			size_hint: [1, .5]
		    Graph:
				id: graph
				background_color: (0.5, 0.5, 0.5, 1)
		        xlabel: "time"
		        ylabel: "Level"
				x_grid: True
        		y_grid: True
				x_grid_label: True
        		y_grid_label: True
		BoxLayout:
		    size_hint: [1, .1]
		    orientation: "horizontal"
		    Button:
		        text: "START"
		        bold: True
				font_size: 25
		        on_press: root.start()
		    Button:
		        text: "STOP"
		        bold: True
				font_size: 25
		        on_press: root.stop()
