#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import MeshLinePlot kivy.garden.graph.MeshLinePlot
#:import Graph kivy.garden.graph.Graph

ScreenManagement:
	transition: FadeTransition()
	StartScreen:
	MainScreen:
	PlotGraph:

<StartScreen>:
    nametext: text_box
    agetext: age_text
	name: "start"

    Button:
        font_size: 25
        center_x: (root.width/2)
		on_release: root.get_Info()
        size_hint: 0.15, 0.1
        top: root.top-270
        text: 'Start'

    #Labeldatetime
    Label:
        font_size: 25
        center_x: (root.width/4)
        size_hint: 0.15, 0.1
        top: root.top-90
        text:'name'
    Label:
        font_size: 25
        center_x: (root.width/4)
        size_hint: 0.15, 0.1
        top: root.top-180
        text:'experiment number'

    #TextInput
    TextInput:
        id: text_box
        size_hint: 0.3, 0.08
        center_x: (root.width/2)
        font_size: 25
        top: root.top-90
        focus: True
        on_text_validate: root.buttonClicked()
    TextInput:
        id: age_text
        size_hint: 0.3, 0.08
        center_x: (root.width/2)
        font_size: 25
        top: root.top-180
        focus: True
        on_text_validate: root.buttonClicked()


<MainScreen>:
	name: "other"

	# Change Screen

	# Button:
	# 	color: 0,1,0,1
	# 	font_size: 25
	# 	size_hint: 0.3,0.2
	# 	text: "Graph Screen"
	# 	on_release: app.root.current = "graph"
	# 	pos_hint: {"left":1, "top":1}

	Button:
		color: 1,0,0,1
		font_size: 25
		size_hint: 0.3,0.2
		text: "Exit"
		# on_release: root.Quit()
		on_release: app.root_window.close()
		pos_hint: {"right":1, "top":1}


	BoxLayout:
		orientation: "vertical"
	    Camera:
	        id: camera
			# index: webcam_number
			index: 1
			resolution: (320, 240)
			size_hint: 1, .5
	        play: True
	    Graph:
			id: graph
			background_color: (0.5, 0.5, 0.5, 1)
			size_hint: [1, .5]
	        xlabel: "time"
	        ylabel: "GSR"
			x_grid: True
    		y_grid: True
			x_grid_label: True
    		y_grid_label: True
			ymin: 0
			ymax: 1.0
			x_ticks_minor: 5
			x_ticks_major: 25
			y_ticks_major: 0.1
	    Graph:
			id: b_graph
			background_color: (0.5, 0.5, 0.5, 1)
			size_hint: [1, .5]
	        xlabel: "time"
	        ylabel: "TMP"
			x_grid: True
    		y_grid: True
			x_grid_label: True
    		y_grid_label: True
			x_ticks_minor: 5
			x_ticks_major: 25
			ymin: 0
			ymax: 50
			y_ticks_major: 5
	    Graph:
			id: c_graph
			background_color: (0.5, 0.5, 0.5, 1)
			size_hint: [1, .5]
	        xlabel: "time"
	        ylabel: "IBI"
			x_grid: True
    		y_grid: True
			x_grid_label: True
    		y_grid_label: True
			x_ticks_minor: 5
			x_ticks_major: 25
			ymin: 0.0
			ymax: 2.0
			y_ticks_major: 0.2

		BoxLayout:
			size_hint: [1, .5]
		    Button:
		        text: 'Play'
				font_size: 25
				on_press: root.start()
		        size_hint_y: None
		        height: '48dp'
			Button:
				text: 'Stop'
				font_size: 25
				on_press: root.stop()
				size_hint_y: None
				height: '48dp'


<PlotGraph>:
	name: "graph"
